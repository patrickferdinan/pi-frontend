{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\ProjetoIntegrador\\\\frontend\\\\src\\\\pages\\\\NewEvent\\\\index.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FiArrowLeft } from 'react-icons/fi';\nimport { messageError, messageSuccess } from '../../components/toastr';\nimport axios from 'axios';\nimport localStorageService from '../../service/localStorageService';\nimport './styles.css';\nimport logoImg from '../../assets/logo.png';\nimport SelectMenu from '../../components/selectMenu';\n\nclass NewEvent extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      id: null,\n      name: '',\n      description: '',\n      initialData: '',\n      finalData: '',\n      price: '',\n      type: '',\n      neighborhooh: '',\n      complement: '',\n      street: '',\n      number: '',\n      cep: '',\n      participants: '',\n      cidadeId: '',\n      updateEvent: false\n    };\n\n    this.update = () => {\n      axios.put(`http://localhost:8080/events/${this.state.id}`, {\n        name: this.state.name,\n        description: this.state.description,\n        initialData: this.state.initialData,\n        finalData: this.state.finalData,\n        price: this.state.price,\n        type: this.state.type\n      }).then(response => {\n        const user = localStorageService.getlocalStorage('_user');\n        var userId = user.id;\n        axios.get(`http://localhost:8080/users/${userId}`).then(response => {\n          localStorageService.addItem('_user', response.data);\n        });\n        this.props.history.push('/profile');\n        messageSuccess('Evento Atualizado com sucesso...');\n      }).catch(error => {\n        console.log(error.response.data);\n        messageError(error.response);\n      });\n    };\n\n    this.saveEvent = () => {\n      const msgs = this.validar();\n\n      if (msgs && msgs.length > 0) {\n        msgs.forEach((msg, index) => {\n          messageError(msg);\n        });\n        return false;\n      }\n\n      const user = localStorageService.getlocalStorage('_user');\n      var userId = user.id;\n      axios.post('http://localhost:8080/events/', {\n        user: userId,\n        name: this.state.name,\n        description: this.state.description,\n        initialData: this.state.initialData,\n        finalData: this.state.finalData,\n        price: this.state.price,\n        type: this.state.type,\n        neighborhooh: this.state.neighborhooh,\n        complement: this.state.complement,\n        street: this.state.street,\n        number: this.state.number,\n        cep: this.state.cep,\n        participants: this.state.participants,\n        cidadeId: this.state.cidadeId\n      }).then(response => {\n        axios.get(`http://localhost:8080/users/${userId}`).then(response => {\n          localStorageService.addItem('_user', response.data);\n        });\n        this.props.history.push('/profile');\n        messageSuccess(\"Evento : \" + this.state.name + \", cadastrado com sucesso.\");\n      }).catch(erro => {\n        messageError(\"Formatos dos campos errados.\");\n      });\n    };\n\n    this.handleChange = event => {\n      const value = event.target.value;\n      const name = event.target.name;\n      this.setState({\n        [name]: value\n      });\n    };\n  }\n\n  componentDidMount() {\n    const params = this.props.match.params;\n    this.setState({\n      id: params.id\n    });\n\n    if (params.id) {\n      axios.get(`http://localhost:8080/events/${params.id}`).then(response => {\n        this.setState({ ...response.data,\n          updateEvent: true\n        });\n      }).catch(error => {\n        messageError(error.response.data);\n      });\n    }\n  }\n\n  validar() {\n    const msgs = [];\n\n    if (!this.state.name) {\n      msgs.push('O campo Titulo é Obrigatório.');\n    }\n\n    if (!this.state.initialData) {\n      msgs.push('O campo Data Inicial é Obrigatório.');\n    }\n\n    if (!this.state.finalData) {\n      msgs.push('O campo Data Final é Obrigatório.');\n    }\n\n    if (!this.state.neighborhooh) {\n      msgs.push('O campo Bairro é Obrigatório.');\n    }\n\n    if (!this.state.street) {\n      msgs.push('Nome da Rua e Obrigatório.');\n    }\n\n    if (!this.state.type) {\n      msgs.push('Tipo de evento é Obrigatório.');\n    }\n\n    if (!this.state.number) {\n      msgs.push('Digite o número do estabelecimento.');\n    }\n\n    if (!this.state.cep) {\n      msgs.push('Digite o CEP Obrigatório.');\n    }\n\n    if (!this.state.cidadeId) {\n      msgs.push('Escolha uma cidade..');\n    }\n\n    if (!this.state.price) {\n      msgs.push('Defina um Preço.');\n    }\n\n    return msgs;\n  }\n\n  render() {\n    const cidadeId = [{\n      label: 'Cidade...',\n      value: null\n    }, {\n      label: 'Araguari',\n      value: 1\n    }, {\n      label: 'Itumbiara',\n      value: 2\n    }];\n    const type = [{\n      label: 'Tipo de Evento...',\n      value: null\n    }, {\n      label: 'Público',\n      value: 0\n    }, {\n      label: 'Privado',\n      value: 1\n    }];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"new-event-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: logoImg,\n      alt: \"event\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 37\n      }\n    }, this.state.updateEvent ? 'Atualizar Evento' : 'Cadastrar Evento'), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 37\n      }\n    }, this.state.updateEvent ? 'Atualizar evento na plataforma.' : 'Crie o seu evento na plataforma.'), /*#__PURE__*/React.createElement(Link, {\n      className: \"back-link\",\n      to: \"/profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(FiArrowLeft, {\n      size: 16,\n      color: \"#333\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 41\n      }\n    }), \"Voltar\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"margin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"aling-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 29\n      }\n    }, this.state.updateEvent ? 'Atualização De Evento' : 'Cadastro De Evento', \" \"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      value: this.state.name,\n      onChange: this.handleChange,\n      placeholder: \"Titulo **\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"textarea\", {\n      type: \"text\",\n      name: \"description\",\n      value: this.state.description,\n      onChange: this.handleChange,\n      placeholder: \"Descri\\xE7\\xE3o\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-data\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"initialData\",\n      value: this.state.initialData,\n      onChange: this.handleChange,\n      placeholder: \"00/00/0000 00:00:00 Data Inicial\",\n      style: {\n        width: 265\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"finalData\",\n      value: this.state.finalData,\n      onChange: this.handleChange,\n      placeholder: \"00/00/0000 00:00:00 Data Final\",\n      style: {\n        width: 265\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"street\",\n      value: this.state.street,\n      onChange: this.handleChange,\n      placeholder: \"Rua **\",\n      style: {\n        width: 400\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"number\",\n      value: this.state.number,\n      onChange: this.handleChange,\n      placeholder: \"Numero **\",\n      style: {\n        width: 130\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"neighborhooh\",\n      value: this.state.neighborhooh,\n      onChange: this.handleChange,\n      placeholder: \"Bairro **\",\n      style: {\n        width: 300\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"complement\",\n      value: this.state.complement,\n      onChange: this.handleChange,\n      placeholder: \"Complemento\",\n      style: {\n        width: 230\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"cep\",\n      value: this.state.cep,\n      onChange: this.handleChange,\n      placeholder: \"Cep 00.000-000\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"select-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(SelectMenu, {\n      className: \"button\",\n      lista: cidadeId,\n      name: \"cidadeId\",\n      value: this.state.cidadeId,\n      onChange: this.handleChange,\n      style: {\n        width: 200\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(SelectMenu, {\n      className: \"button\",\n      lista: type,\n      name: \"type\",\n      value: this.state.type,\n      onChange: this.handleChange,\n      style: {\n        width: 200\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"price\",\n      value: this.state.price,\n      onChange: this.handleChange,\n      placeholder: \"Pre\\xE7o* 00.00\",\n      style: {\n        width: 120\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"textarea\", {\n      name: \"participants\",\n      value: this.state.participants,\n      onChange: this.handleChange,\n      placeholder: \"Participantes, CPF separados por espa\\xE7o.\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 29\n      }\n    }), this.state.updateEvent ? /*#__PURE__*/React.createElement(Link, {\n      className: \"button\",\n      onClick: this.update,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 37\n      }\n    }, \"Atualizar Evento\") : /*#__PURE__*/React.createElement(Link, {\n      className: \"button\",\n      onClick: this.saveEvent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 41\n      }\n    }, \"Cadastrar Evento\")))));\n  }\n\n}\n\nexport default NewEvent;","map":{"version":3,"sources":["C:/Projects/ProjetoIntegrador/frontend/src/pages/NewEvent/index.js"],"names":["React","Link","FiArrowLeft","messageError","messageSuccess","axios","localStorageService","logoImg","SelectMenu","NewEvent","Component","state","id","name","description","initialData","finalData","price","type","neighborhooh","complement","street","number","cep","participants","cidadeId","updateEvent","update","put","then","response","user","getlocalStorage","userId","get","addItem","data","props","history","push","catch","error","console","log","saveEvent","msgs","validar","length","forEach","msg","index","post","erro","handleChange","event","value","target","setState","componentDidMount","params","match","render","label","width"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FiArrowLeft } from 'react-icons/fi'\nimport { messageError, messageSuccess } from '../../components/toastr'\n\nimport axios from 'axios'\nimport localStorageService from '../../service/localStorageService';\nimport './styles.css';\nimport logoImg from '../../assets/logo.png';\nimport SelectMenu from '../../components/selectMenu';\n\nclass NewEvent extends React.Component {\n\n    state = {\n        id: null,\n        name: '',\n        description: '',\n        initialData: '',\n        finalData: '',\n        price: '',\n        type: '',\n        neighborhooh: '',\n        complement: '',\n        street: '',\n        number: '',\n        cep: '',\n        participants: '',\n        cidadeId: '',\n        updateEvent: false\n    }\n\n    componentDidMount() {\n        const params = this.props.match.params;\n        this.setState({ id: params.id })\n        if (params.id) {\n\n            axios.get(`http://localhost:8080/events/${params.id}`)\n                .then(response => {\n                    this.setState({ ...response.data, updateEvent: true })\n                }).catch(error => {\n                    messageError(error.response.data)\n                })\n        }\n    }\n\n    update = () => {\n        axios.put(`http://localhost:8080/events/${this.state.id}`, {\n            name: this.state.name,\n            description: this.state.description,\n            initialData: this.state.initialData,\n            finalData: this.state.finalData,\n            price: this.state.price,\n            type: this.state.type\n\n        }).then(response => {\n\n            const user = localStorageService.getlocalStorage('_user')\n            var userId = user.id;\n            axios.get(`http://localhost:8080/users/${userId}`).then(response => {\n                localStorageService.addItem('_user', response.data);\n            })\n\n            this.props.history.push('/profile')\n            messageSuccess('Evento Atualizado com sucesso...');\n        }).catch(error => {\n            console.log(error.response.data)\n            messageError(error.response)\n        })\n    }\n\n    validar() {\n        const msgs = [];\n\n        if (!this.state.name) {\n            msgs.push('O campo Titulo é Obrigatório.')\n        }\n\n        if (!this.state.initialData) {\n            msgs.push('O campo Data Inicial é Obrigatório.')\n        }\n\n        if (!this.state.finalData) {\n            msgs.push('O campo Data Final é Obrigatório.')\n        }\n\n        if (!this.state.neighborhooh) {\n            msgs.push('O campo Bairro é Obrigatório.')\n        }\n\n        if (!this.state.street) {\n            msgs.push('Nome da Rua e Obrigatório.')\n        }\n\n        if (!this.state.type) {\n            msgs.push('Tipo de evento é Obrigatório.')\n        }\n\n        if (!this.state.number) {\n            msgs.push('Digite o número do estabelecimento.')\n        }\n\n        if (!this.state.cep) {\n            msgs.push('Digite o CEP Obrigatório.')\n        }\n\n        if (!this.state.cidadeId) {\n            msgs.push('Escolha uma cidade..')\n        }\n\n        if (!this.state.price) {\n            msgs.push('Defina um Preço.')\n        }\n\n        return msgs;\n    }\n\n    saveEvent = () => {\n\n        const msgs = this.validar();\n        if (msgs && msgs.length > 0) {\n            msgs.forEach((msg, index) => {\n                messageError(msg);\n            })\n            return false;\n        }\n\n        const user = localStorageService.getlocalStorage('_user')\n        var userId = user.id;\n\n        axios.post('http://localhost:8080/events/', {\n            user: userId,\n            name: this.state.name,\n            description: this.state.description,\n            initialData: this.state.initialData,\n            finalData: this.state.finalData,\n            price: this.state.price,\n            type: this.state.type,\n            neighborhooh: this.state.neighborhooh,\n            complement: this.state.complement,\n            street: this.state.street,\n            number: this.state.number,\n            cep: this.state.cep,\n            participants: this.state.participants,\n            cidadeId: this.state.cidadeId\n\n        }).then(response => {\n\n            axios.get(`http://localhost:8080/users/${userId}`).then(response => {\n                localStorageService.addItem('_user', response.data);\n            })\n\n            this.props.history.push('/profile')\n            messageSuccess(\"Evento : \" + this.state.name + \", cadastrado com sucesso.\")\n\n        }).catch(erro => {\n            messageError(\"Formatos dos campos errados.\")\n        })\n    }\n\n    handleChange = (event) => {\n        const value = event.target.value;\n        const name = event.target.name;\n\n        this.setState({ [name]: value })\n    }\n\n    render() {\n\n        const cidadeId = [\n            { label: 'Cidade...', value: null },\n            { label: 'Araguari', value: 1 },\n            { label: 'Itumbiara', value: 2 }\n        ]\n\n        const type = [\n            { label: 'Tipo de Evento...', value: null },\n            { label: 'Público', value: 0 },\n            { label: 'Privado', value: 1 }\n        ]\n\n        return (\n            <div className=\"container\">\n                <div className=\"row\">\n                    <div className=\"col-md-6\">\n                        <div className=\"new-event-container\" >\n                            <div className=\"content\">\n                                <section>\n                                    <img src={logoImg} alt=\"event\" />\n                                    <h1>{this.state.updateEvent ? 'Atualizar Evento' : 'Cadastrar Evento'}</h1>\n                                    <p>{this.state.updateEvent ? 'Atualizar evento na plataforma.' : 'Crie o seu evento na plataforma.'}</p>\n                                    <Link className=\"back-link\" to=\"/profile\">\n                                        <FiArrowLeft size={16} color=\"#333\" />\n                                        Voltar\n                                    </Link>\n                                </section>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"col-md-6\">\n                        <form className=\"margin\">\n                            <h4 className=\"aling-center\">{this.state.updateEvent ? 'Atualização De Evento' : 'Cadastro De Evento'} </h4>\n                            <input type=\"text\" name=\"name\" value={this.state.name}\n                                onChange={this.handleChange} placeholder=\"Titulo **\" />\n\n                            <textarea type=\"text\" name=\"description\" value={this.state.description}\n                                onChange={this.handleChange} placeholder=\"Descrição\" />\n\n                            <div className=\"input-data\">\n                                <input type=\"text\" name=\"initialData\" value={this.state.initialData}\n                                    onChange={this.handleChange} placeholder=\"00/00/0000 00:00:00 Data Inicial\" style={{ width: 265 }} />\n\n                                <input type=\"text\" name=\"finalData\" value={this.state.finalData}\n                                    onChange={this.handleChange} placeholder=\"00/00/0000 00:00:00 Data Final\" style={{ width: 265 }} />\n                            </div>\n\n                            <div className=\"input-group\">\n                                <input type=\"text\" name=\"street\" value={this.state.street}\n                                    onChange={this.handleChange} placeholder=\"Rua **\" style={{ width: 400 }} />\n\n                                <input type=\"text\" name=\"number\" value={this.state.number}\n                                    onChange={this.handleChange} placeholder=\"Numero **\" style={{ width: 130 }} />\n                            </div>\n\n                            <div className=\"input-text\">\n                                <input type=\"text\" name=\"neighborhooh\" value={this.state.neighborhooh}\n                                    onChange={this.handleChange} placeholder=\"Bairro **\" style={{ width: 300 }} />\n\n                                <input type=\"text\" name=\"complement\" value={this.state.complement}\n                                    onChange={this.handleChange} placeholder=\"Complemento\" style={{ width: 230 }} />\n                            </div>\n\n                            <input type=\"text\" name=\"cep\" value={this.state.cep}\n                                onChange={this.handleChange} placeholder=\"Cep 00.000-000\" />\n\n                            <div className=\"select-group\">\n                                <div className=\"group\">\n                                    <SelectMenu className=\"button\" lista={cidadeId} name=\"cidadeId\"\n                                        value={this.state.cidadeId} onChange={this.handleChange} style={{ width: 200 }} />\n\n                                    <SelectMenu className=\"button\" lista={type} name=\"type\"\n                                        value={this.state.type} onChange={this.handleChange} style={{ width: 200 }} />\n\n                                    <input name=\"price\" value={this.state.price}\n                                        onChange={this.handleChange} placeholder=\"Preço* 00.00\" style={{ width: 120 }} />\n                                </div>\n                            </div>\n\n                            <textarea name=\"participants\" value={this.state.participants}\n                                onChange={this.handleChange} placeholder=\"Participantes, CPF separados por espaço.\" />\n\n                            {\n                                this.state.updateEvent ? (\n                                    <Link className=\"button\" onClick={this.update}>Atualizar Evento</Link>\n                                ) : (\n                                        <Link className=\"button\" onClick={this.saveEvent}>Cadastrar Evento</Link>\n                                    )\n                            }\n                        </form>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default NewEvent"]},"metadata":{},"sourceType":"module"}