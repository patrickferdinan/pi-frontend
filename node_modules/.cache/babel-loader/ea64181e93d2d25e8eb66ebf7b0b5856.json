{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\ProjetoIntegrador\\\\frontend\\\\src\\\\pages\\\\Register\\\\index.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FiArrowLeft } from 'react-icons/fi';\nimport './styles.css';\nimport 'bootswatch/dist/flatly/bootstrap.css'; //https://codeseven.github.io/toastr/\n//https://codeseven.github.io/toastr/demo.html\n\nimport { messageError, messageSuccess } from '../../components/toastr';\nimport axios from 'axios';\nimport logoImg from '../../assets/logo.png';\nimport SelectMenu from '../../components/selectMenu';\n\nclass Register extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      'name': '',\n      'email': '',\n      'userType': '',\n      'cpfCnpj': '',\n      'phone': '',\n      'password': '',\n      'passwordConfirme': ''\n    };\n\n    this.cadastrar = () => {\n      const msgs = this.validar();\n\n      if (msgs && msgs.length > 0) {\n        msgs.forEach((msg, index) => {\n          messageError(msg);\n        });\n        return false;\n      }\n\n      axios.post('http://localhost:8080/users/', {\n        name: this.state.name,\n        email: this.state.email,\n        userType: this.state.userType,\n        cpfCnpj: this.state.cpfCnpj,\n        phone: this.state.phone,\n        password: this.state.password\n      }).then(response => {\n        this.props.history.push('/');\n        messageSuccess(\"Usuário \" + this.state.email + \" cadastrado com sucesso.\");\n      }).catch(error => {\n        messageError(\"Email já Cadastrado. Tente Novamente\");\n      });\n    };\n\n    this.handleChange = event => {\n      const value = event.target.value;\n      const name = event.target.name;\n      this.setState({\n        [name]: value\n      });\n    };\n  }\n\n  validar() {\n    const msgs = [];\n\n    if (!this.state.name) {\n      msgs.push('O campo Nome é Obrigatório.');\n    }\n\n    if (!this.state.email) {\n      msgs.push('O campo Email é Obrigatório.');\n    } else if (!this.state.email.match(/^[a-z0-9.]+@[a-z0-9]+\\.[a-z]/)) {\n      msgs.push('Informe um Email válido.');\n    }\n\n    if (!this.state.userType) {\n      msgs.push('O campo Tipo de usuário é Obrigatório.');\n    }\n\n    if (!this.state.cpfCnpj) {\n      msgs.push('O campo CpfCnpj é Obrigatório.');\n    } else if (!this.state.cpfCnpj.match(/^([0-9]{3}\\.?[0-9]{3}\\.?[0-9]{3}\\-?[0-9]{2}|[0-9]{2}\\.?[0-9]{3}\\.?[0-9]{3}\\/?[0-9]{4}\\-?[0-9]{2})$/)) {\n      msgs.push('Informe um CpfCnpj válido.');\n    }\n\n    if (!this.state.phone) {\n      msgs.push('O campo Telefone é Obrigatório.');\n    }\n\n    if (!this.state.password || !this.state.passwordConfirme) {\n      msgs.push('Digite as Senhas são Obrigatório.');\n    } else if (this.state.password !== this.state.passwordConfirme) {\n      msgs.push('As Senhas não são iguais...');\n    }\n\n    return msgs;\n  }\n\n  render() {\n    const userType = [{\n      label: 'Selecione...',\n      value: null\n    }, {\n      label: 'Pessoa Física',\n      value: 0\n    }, {\n      label: 'Pessoa Jurídica',\n      value: 1\n    }];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"aling aling-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: logoImg,\n      alt: \"event\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 33\n      }\n    }, \"Crie a sua Conta\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 33\n      }\n    }, \"Registre-se e entre na plataforma eventos.\"), /*#__PURE__*/React.createElement(Link, {\n      className: \"link\",\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(FiArrowLeft, {\n      size: 16,\n      color: \"#333\",\n      className: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 37\n      }\n    }), \"Voltar\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"aling-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"name1\",\n      value: this.state.name,\n      onChange: e => this.setState({\n        name: e.target.value\n      }),\n      placeholder: \"Digite seu nome completo. M\\xEDnimo 15 caracteres.\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      id: \"email2\",\n      value: this.state.email,\n      onChange: e => this.setState({\n        email: e.target.value\n      }),\n      placeholder: \"digite seu melhor e-mail...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(SelectMenu, {\n      id: \"userType\",\n      className: \"button\",\n      lista: userType,\n      name: \"userType\",\n      value: this.state.userType,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"cpfCnpj\",\n      value: this.state.cpfCnpj,\n      onChange: e => this.setState({\n        cpfCnpj: e.target.value\n      }),\n      placeholder: \"Cpf ou Cnpj  000.000.000-00\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"phone1\",\n      value: this.state.phone,\n      onChange: e => this.setState({\n        phone: e.target.value\n      }),\n      placeholder: \"Whatsapp 00 0 0000 0000\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      id: \"password2\",\n      value: this.state.password,\n      onChange: e => this.setState({\n        password: e.target.value\n      }),\n      placeholder: \"Digite uma senha. M\\xEDnimo 6 caracteres.\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      id: \"passwordConfirme\",\n      value: this.state.passwordConfirme,\n      onChange: e => this.setState({\n        passwordConfirme: e.target.value\n      }),\n      placeholder: \"Confirme sua senha...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      className: \"button\",\n      onClick: this.cadastrar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 29\n      }\n    }, \"Registrar\")))));\n  }\n\n}\n\nexport default Register;","map":{"version":3,"sources":["C:/Projects/ProjetoIntegrador/frontend/src/pages/Register/index.js"],"names":["React","Link","FiArrowLeft","messageError","messageSuccess","axios","logoImg","SelectMenu","Register","Component","state","cadastrar","msgs","validar","length","forEach","msg","index","post","name","email","userType","cpfCnpj","phone","password","then","response","props","history","push","catch","error","handleChange","event","value","target","setState","match","passwordConfirme","render","label","e"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FiArrowLeft } from 'react-icons/fi';\nimport './styles.css';\n\nimport 'bootswatch/dist/flatly/bootstrap.css'\n\n//https://codeseven.github.io/toastr/\n//https://codeseven.github.io/toastr/demo.html\nimport { messageError, messageSuccess } from '../../components/toastr';\n\nimport axios from 'axios'\nimport logoImg from '../../assets/logo.png';\nimport SelectMenu from '../../components/selectMenu';\n\nclass Register extends React.Component {\n\n    state = {\n        'name': '',\n        'email': '',\n        'userType': '',\n        'cpfCnpj': '',\n        'phone': '',\n        'password': '',\n        'passwordConfirme': ''\n    }\n\n    validar() {\n        const msgs = [];\n\n        if (!this.state.name) {\n            msgs.push('O campo Nome é Obrigatório.')\n        }\n\n        if (!this.state.email) {\n            msgs.push('O campo Email é Obrigatório.')\n        } else if (!this.state.email.match(/^[a-z0-9.]+@[a-z0-9]+\\.[a-z]/)) {\n            msgs.push('Informe um Email válido.')\n        }\n\n\n        if (!this.state.userType) {\n            msgs.push('O campo Tipo de usuário é Obrigatório.')\n        }\n\n        if (!this.state.cpfCnpj) {\n            msgs.push('O campo CpfCnpj é Obrigatório.')\n        } else if (!this.state.cpfCnpj.match(/^([0-9]{3}\\.?[0-9]{3}\\.?[0-9]{3}\\-?[0-9]{2}|[0-9]{2}\\.?[0-9]{3}\\.?[0-9]{3}\\/?[0-9]{4}\\-?[0-9]{2})$/)) {\n            msgs.push('Informe um CpfCnpj válido.')\n        }\n\n        if (!this.state.phone) {\n            msgs.push('O campo Telefone é Obrigatório.')\n        }\n\n        if (!this.state.password || !this.state.passwordConfirme) {\n            msgs.push('Digite as Senhas são Obrigatório.')\n        } else if (this.state.password !== this.state.passwordConfirme) {\n            msgs.push('As Senhas não são iguais...')\n        }\n\n\n        return msgs;\n    }\n\n    cadastrar = () => {\n\n        const msgs = this.validar();\n        if (msgs && msgs.length > 0) {\n            msgs.forEach((msg, index) => {\n                messageError(msg);\n            })\n\n            return false;\n        }\n\n        axios.post('http://localhost:8080/users/', {\n            name: this.state.name,\n            email: this.state.email,\n            userType: this.state.userType,\n            cpfCnpj: this.state.cpfCnpj,\n            phone: this.state.phone,\n            password: this.state.password\n        }).then(response => {\n\n            this.props.history.push('/')\n            messageSuccess(\"Usuário \" + this.state.email + \" cadastrado com sucesso.\")\n\n        }).catch(error => {\n            messageError(\"Email já Cadastrado. Tente Novamente\");\n        })\n    }\n\n    handleChange = (event) => {\n        const value = event.target.value;\n        const name = event.target.name;\n\n        this.setState({ [name]: value })\n    }\n\n    render() {\n\n        const userType = [\n            { label: 'Selecione...', value: null },\n            { label: 'Pessoa Física', value: 0 },\n            { label: 'Pessoa Jurídica', value: 1 }\n        ]\n\n        return (\n            <div className=\"container\">\n                <div className=\"row\">\n                    <div className=\"col-md-6\">\n                        <div className=\"aling aling-center\" >\n                            <section>\n                                <img src={logoImg} alt=\"event\" />\n\n                                <h2>Crie a sua Conta</h2>\n                                <p>Registre-se e entre na plataforma eventos.</p>\n\n                                <Link className=\"link\" to=\"/\">\n                                    <FiArrowLeft size={16} color=\"#333\" className=\"center\" />\n                                    Voltar\n                                </Link>\n                            </section>\n                        </div>\n                    </div>\n                    <div className=\"col-md-6\">\n                        <form className=\"form\">\n                            <div className=\"aling-center\">\n                            </div>\n                            <input type=\"text\" id=\"name1\" value={this.state.name} onChange={e => this.setState({ name: e.target.value })} placeholder=\"Digite seu nome completo. Mínimo 15 caracteres.\" />\n                            <input type=\"email\" id=\"email2\" value={this.state.email} onChange={e => this.setState({ email: e.target.value })} placeholder=\"digite seu melhor e-mail...\" />\n                            <SelectMenu id=\"userType\" className=\"button\" lista={userType} name=\"userType\" value={this.state.userType} onChange={this.handleChange} />\n                            <input type=\"text\" id=\"cpfCnpj\" value={this.state.cpfCnpj} onChange={e => this.setState({ cpfCnpj: e.target.value })} placeholder=\"Cpf ou Cnpj  000.000.000-00\" />\n                            <input type=\"text\" id=\"phone1\" value={this.state.phone} onChange={e => this.setState({ phone: e.target.value })} placeholder=\"Whatsapp 00 0 0000 0000\" />\n                            <input type=\"password\" id=\"password2\" value={this.state.password} onChange={e => this.setState({ password: e.target.value })} placeholder=\"Digite uma senha. Mínimo 6 caracteres.\" />\n                            <input type=\"password\" id=\"passwordConfirme\" value={this.state.passwordConfirme} onChange={e => this.setState({ passwordConfirme: e.target.value })} placeholder=\"Confirme sua senha...\" />\n                            <Link className=\"button\" onClick={this.cadastrar}>Registrar</Link>\n                        </form>\n                    </div>\n                </div >\n            </div>\n        )\n    }\n}\n\nexport default Register"]},"metadata":{},"sourceType":"module"}