{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\ProjetoIntegrador\\\\frontend\\\\src\\\\pages\\\\Payment\\\\index.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FiArrowLeft } from 'react-icons/fi';\nimport { messageError, messageSuccess } from '../../components/toastr';\nimport logoImg from '../../assets/splash.png';\nimport axios from 'axios';\nimport './styles.css';\nimport LocalStorageService from '../../service/localStorageService';\nimport Participants from '../../components/participants';\n\nclass Payment extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      id: null,\n      payment: '',\n      status: 'PAID',\n      participantsEvent: []\n    };\n\n    this.ticket = id => {\n      axios.put(`http://localhost:8080/payments/${id}`, {\n        status: this.state.status\n      }).then(response => {\n        this.props.history.push('/perfil');\n        messageSuccess(\"Pamento Confirmado!..\");\n      }).catch(erro => {\n        messageError('Pagamento não encontrado');\n      });\n    };\n\n    this.user = LocalStorageService.getlocalStorage('_user');\n  }\n\n  validar() {\n    const msgs = [];\n\n    if (!this.state.payment) {\n      msgs.push('O campo Ingresso é Obrigatório.');\n    }\n\n    return msgs;\n  }\n\n  componentDidMount() {\n    const params = this.props.match.params;\n    this.setState({\n      id: params.id\n    });\n\n    if (params.id) {\n      axios.get(`http://localhost:8080/events/${params.id}/orders`).then(response => {\n        this.setState({\n          participantsEvent: response.data\n        });\n        console.log(this.state.participantsEvent);\n      }).catch(erro => {\n        messageError(erro.data);\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: logoImg,\n      alt: \"Event\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"user\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 33\n      }\n    }, \" Usu\\xE1rio , \", this.user.name, \" \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      className: \"back\",\n      to: \"/profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(FiArrowLeft, {\n      size: 20,\n      color: \"#fff\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 37\n      }\n    }), \"Home\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 aling-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 58\n      }\n    }, \"Ser\\xE1 enviado um email, confirmando o pagamento do ingresso. Total de Ingressos com Inten\\xE7\\xE3o de Compra : \", this.state.participantsEvent.length, \" \")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Participants, {\n      participants: this.state.participantsEvent,\n      ticket: this.ticket,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 33\n      }\n    }))))));\n  }\n\n}\n\nexport default Payment;","map":{"version":3,"sources":["C:/Projects/ProjetoIntegrador/frontend/src/pages/Payment/index.js"],"names":["React","Link","FiArrowLeft","messageError","messageSuccess","logoImg","axios","LocalStorageService","Participants","Payment","Component","constructor","state","id","payment","status","participantsEvent","ticket","put","then","response","props","history","push","catch","erro","user","getlocalStorage","validar","msgs","componentDidMount","params","match","setState","get","data","console","log","render","name","length"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FiArrowLeft } from 'react-icons/fi';\nimport { messageError, messageSuccess } from '../../components/toastr';\nimport logoImg from '../../assets/splash.png';\n\nimport axios from 'axios'\nimport './styles.css';\nimport LocalStorageService from '../../service/localStorageService';\nimport Participants from '../../components/participants';\n\nclass Payment extends React.Component {\n\n    constructor() {\n        super();\n        this.user = LocalStorageService.getlocalStorage('_user');\n    }\n\n    state = {\n        id: null,\n        payment: '',\n        status: 'PAID',\n        participantsEvent: []\n    }\n\n    validar() {\n        const msgs = [];\n\n        if (!this.state.payment) {\n            msgs.push('O campo Ingresso é Obrigatório.')\n        }\n\n        return msgs;\n    }\n\n    ticket = (id) => {\n\n        axios.put(`http://localhost:8080/payments/${id}`, {\n            status: this.state.status\n        }).then(response => {\n            this.props.history.push('/perfil')\n            messageSuccess(\"Pamento Confirmado!..\")\n        }).catch(erro => {\n            messageError('Pagamento não encontrado')\n        })\n    }\n\n    componentDidMount() {\n        const params = this.props.match.params;\n        this.setState({ id: params.id })\n        if (params.id) {\n\n            axios.get(`http://localhost:8080/events/${params.id}/orders`).\n                then(response => {\n                    this.setState({ participantsEvent: response.data })\n                    console.log(this.state.participantsEvent);\n                }).catch(erro => {\n                    messageError(erro.data)\n                })\n        }\n    }\n\n    render() {\n        return (\n            <>\n                <div className=\"container-fluid\">\n                    <div className=\"menu\">\n                        <div className=\"row\">\n                            <div className=\"col-md-10\">\n                                <img src={logoImg} alt=\"Event\" />\n                                <span className=\"user\"> Usuário , {this.user.name} </span>\n                            </div>\n                            <div className=\"col-md-2\">\n                                <Link className=\"back\" to=\"/profile\">\n                                    <FiArrowLeft size={20} color=\"#fff\" />Home\n                                    </Link>\n                            </div>\n                        </div>\n                        <div className=\"col-md-12 aling-center\">\n                            <div className=\"card-header\"><p>Será enviado um email, confirmando o pagamento do ingresso. Total de Ingressos com Intenção de Compra : {this.state.participantsEvent.length} </p></div>\n                        </div>\n                    </div>\n                    <div className=\"row\">\n                        <div className=\"col-md-12\">\n                            <div>\n                                <Participants participants={this.state.participantsEvent}\n                                    ticket={this.ticket} />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n            </>\n        )\n    }\n}\n\nexport default Payment;"]},"metadata":{},"sourceType":"module"}