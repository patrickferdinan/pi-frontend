{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\ProjetoIntegrador\\\\frontend\\\\src\\\\pages\\\\Perfil\\\\index.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FiPower, FiArrowLeft } from 'react-icons/fi';\nimport './styles.css';\nimport axios from 'axios';\nimport logoImg from '../../assets/splash.png';\nimport localStorageService from '../../service/localStorageService';\nimport EventProfile from '../../components/eventProfile';\nimport OrderList from '../../components/orderList';\nimport AuthService from '../../service/authService';\nimport { messageError, messageSuccess } from '../../components/toastr';\nimport { Dialog } from 'primereact/dialog';\nimport { Button } from 'primereact/button';\n\nconst logout = () => {\n  AuthService.removeUserAuthenticate();\n};\n\nclass Perfil extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      showConfirmDialog: false,\n      eventDelete: ''\n    };\n\n    this.openDialog = id => {\n      this.setState({\n        showConfirmDialog: true,\n        eventDelete: id\n      });\n    };\n\n    this.edit = id => {\n      this.props.history.push(`/event/new/${id}`);\n    };\n\n    this.payment = id => {\n      this.props.history.push(`/payment/${id}`);\n    };\n\n    this.cancelDelete = () => {\n      this.setState({\n        showConfirmDialog: false\n      });\n    };\n\n    this.delete = id => {\n      axios.delete(`http://localhost:8080/events/${this.state.eventDelete}`).then(response => {\n        const user = localStorageService.getlocalStorage('_user');\n        var userId = user.id;\n        console.log(userId);\n        axios.get(`http://localhost:8080/users/${userId}`).then(response => {\n          localStorageService.addItem('_user', response.data);\n        });\n        this.props.history.push('/profile');\n        messageSuccess(\"Evento Deletado com sucesso!.\");\n      }).catch(error => {\n        messageError(\"Evento não pode ser Deletado. Persiste dados em outras tabelas.\");\n      });\n    };\n\n    this.user = localStorageService.getlocalStorage('_user');\n    this.events = localStorageService.getlocalStorage('_user');\n    this.orders = localStorageService.getlocalStorage('_user');\n  }\n\n  render() {\n    const confirmDialog = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      label: \"Confirmar\",\n      icon: \"pi pi-check\",\n      onClick: this.delete,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      label: \"Cancelar\",\n      icon: \"pi pi-times\",\n      onClick: this.cancelDelete,\n      className: \"p-button-secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    }));\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: logoImg,\n      alt: \"Event\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"user\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 33\n      }\n    }, \" Usu\\xE1rio , \", this.user.name, \" \")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      className: \"back\",\n      to: \"/profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(FiArrowLeft, {\n      size: 20,\n      color: \"#fff\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 37\n      }\n    }), \"Home\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      className: \"back-link\",\n      to: \"/\",\n      onClick: logout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(FiPower, {\n      size: 20,\n      color: \"#fff\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 37\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-hover\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 45\n      }\n    }, \"Nome\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 45\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 45\n      }\n    }, \"Telefone\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 45\n      }\n    }, \"A\\xE7\\xF5es\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"table-active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 45\n      }\n    }, this.user.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 45\n      }\n    }, this.user.email), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 45\n      }\n    }, this.user.phone), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-warning\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 49\n      }\n    }, \"Editar\"))))))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(OrderList, {\n      orders: this.orders.orders,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(EventProfile, {\n      eventos: this.events.events,\n      updateTiket: this.payment,\n      updateEvent: this.edit,\n      deleteEvent: this.openDialog,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 29\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Dialog, {\n      header: \"Confirmar Dele\\xE7\\xE3o de Evento?\",\n      visible: this.state.showConfirmDialog,\n      style: {\n        width: '50vw'\n      },\n      footer: confirmDialog,\n      modal: true,\n      onHide: () => this.setState({\n        showConfirmDialog: false\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 21\n      }\n    }, \"Realmente deseja deletar este evento...\")));\n  }\n\n}\n\nexport default Perfil;","map":{"version":3,"sources":["C:/Projects/ProjetoIntegrador/frontend/src/pages/Perfil/index.js"],"names":["React","Link","FiPower","FiArrowLeft","axios","logoImg","localStorageService","EventProfile","OrderList","AuthService","messageError","messageSuccess","Dialog","Button","logout","removeUserAuthenticate","Perfil","Component","constructor","state","showConfirmDialog","eventDelete","openDialog","id","setState","edit","props","history","push","payment","cancelDelete","delete","then","response","user","getlocalStorage","userId","console","log","get","addItem","data","catch","error","events","orders","render","confirmDialog","name","email","phone","width"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FiPower, FiArrowLeft } from 'react-icons/fi';\n\nimport './styles.css';\nimport axios from 'axios'\nimport logoImg from '../../assets/splash.png';\nimport localStorageService from '../../service/localStorageService';\nimport EventProfile from '../../components/eventProfile';\nimport OrderList from '../../components/orderList';\nimport AuthService from '../../service/authService'\nimport { messageError, messageSuccess } from '../../components/toastr';\nimport { Dialog } from 'primereact/dialog';\nimport { Button } from 'primereact/button';\n\nconst logout = () => {\n    AuthService.removeUserAuthenticate();\n}\n\nclass Perfil extends React.Component {\n\n    constructor() {\n        super();\n        this.user = localStorageService.getlocalStorage('_user')\n        this.events = localStorageService.getlocalStorage('_user')\n        this.orders = localStorageService.getlocalStorage('_user')\n    }\n\n    state = {\n        showConfirmDialog: false,\n        eventDelete: ''\n    }\n\n    openDialog = (id) => {\n        this.setState({ showConfirmDialog: true, eventDelete: id })\n    }\n\n    edit = (id) => {\n        this.props.history.push(`/event/new/${id}`)\n    }\n\n    payment = (id) => {\n        this.props.history.push(`/payment/${id}`)\n    }\n\n    cancelDelete = () => {\n        this.setState({ showConfirmDialog: false })\n    }\n\n    delete = (id) => {\n        axios.delete(`http://localhost:8080/events/${this.state.eventDelete}`).\n            then(response => {\n\n                const user = localStorageService.getlocalStorage('_user')\n                var userId = user.id;\n                console.log(userId);\n\n                axios.get(`http://localhost:8080/users/${userId}`).then(response => {\n                    localStorageService.addItem('_user', response.data);\n                })\n                this.props.history.push('/profile')\n                messageSuccess(\"Evento Deletado com sucesso!.\");\n            }).catch(error => {\n                messageError(\"Evento não pode ser Deletado. Persiste dados em outras tabelas.\")\n            })\n    }\n\n    render() {\n\n        const confirmDialog = (\n            <div>\n                <Button label=\"Confirmar\" icon=\"pi pi-check\" onClick={this.delete} />\n                <Button label=\"Cancelar\" icon=\"pi pi-times\" onClick={this.cancelDelete} className=\"p-button-secondary\" />\n            </div>\n        )\n\n        return (\n            <>\n                <div className=\"container-fluid\">\n                    <div className=\"menu\">\n                        <div className=\"row\">\n                            <div className=\"col-md-8\">\n                                <img src={logoImg} alt=\"Event\" />\n                                <span className=\"user\"> Usuário , {this.user.name} </span>\n                            </div>\n                            <div className=\"col-md-2\">\n                                <Link className=\"back\" to=\"/profile\">\n                                    <FiArrowLeft size={20} color=\"#fff\" />Home\n                            </Link>\n                            </div>\n                            <div className=\"col-md-2\">\n                                <Link className=\"back-link\" to=\"/\" onClick={logout}>\n                                    <FiPower size={20} color=\"#fff\" />\n                                </Link>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"container\">\n                        <div className=\"row\">\n                            <div className=\"col-md-12\">\n                                <table className=\"table table-hover\">\n                                    <thead>\n                                        <tr>\n                                            <th scope=\"col\">Nome</th>\n                                            <th scope=\"col\">Email</th>\n                                            <th scope=\"col\">Telefone</th>\n                                            <th scope=\"col\">Ações</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        <tr className=\"table-active\">\n                                            <th scope=\"row\">{this.user.name}</th>\n                                            <td>{this.user.email}</td>\n                                            <td>{this.user.phone}</td>\n                                            <td>\n                                                <button type=\"button\" className=\"btn btn-warning\">Editar</button>\n                                            </td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                            </div>\n                        </div>\n                        <div>\n                            <OrderList orders={this.orders.orders} />\n                        </div>\n                        <div>\n                            <EventProfile eventos={this.events.events}\n                                updateTiket={this.payment}\n                                updateEvent={this.edit}\n                                deleteEvent={this.openDialog} />\n                            <br>\n                            </br>\n                        </div>\n                    </div>\n                </div>\n                <div>\n                    <Dialog header=\"Confirmar Deleção de Evento?\"\n                        visible={this.state.showConfirmDialog}\n                        style={{ width: '50vw' }}\n                        footer={confirmDialog}\n                        modal={true} onHide={() => this.setState({ showConfirmDialog: false })}>\n                        Realmente deseja deletar este evento...\n                    </Dialog>\n                </div>\n\n            </>\n        )\n    }\n}\n\nexport default Perfil"]},"metadata":{},"sourceType":"module"}